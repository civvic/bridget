# Bridget


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Key Features

- **Serverless HTMX + FastHTML**: full FastHTML + HTMX functionality in
  Jupyter environments, with no HTTP server required.
- **Extended FastHTML routing system**: integrates seamlessly with
  Python methods.
- **Widget system (WIP)**: build UI components with minimal JavaScript.
- **Real-time notebook introspection**: capture the full notebook
  structure dynamically, without `.ipynb` files.
- **Environment-agnostic**: supports VSCode, JupyterLab, and other
  interfaces.

Bridget relies on companion extensions for JupyterLab/Notebook and
VSCode/Cursor. These capture the live notebook state and feed it
directly to Bridget‚Äôs Python kernel.

## Installation

As Bridget is in early development, it is not yet on PyPI. A development
installation requires NodeJS and the pnpm package manager.

Clone the repository, install JS dependencies with `pnpm`, then perform
an editable Python install. This builds the JS components and installs
the `nbinspect-lab` Jupyter extension automatically.

``` bash
# 1. Clone the repository
git clone https://github.com/civvic/bridget.git
cd bridget

# 2. Install JavaScript dependencies (JupyterLab extension)
pnpm install

# 3. Install Python package with all dependencies
pip install -e .[dev]
```

> Note: step 2 is only necessary if you are going to use Jupyter
> Lab/Notebook. For VSCode, simply install the extension. See below.

## VSCode Extension Installation

For VSCode and Cursor, install the nbinspect-vscode extension manually.
The .vsix file is inside packages/nbinspect-vscode.

To install: - Run the command Extensions: Install from VSIX‚Ä¶ - Or open
the Extensions view, click the ‚Äú‚Ä¶‚Äù menu, and select Install from VSIX‚Ä¶.

## Quick Start

A minimal stateful counter component:

``` python
from bridget.common import get_app
from fasthtml.components import Button

app, bridget, rt = get_app()  # Initialize Bridget and app

def counter(n=0):
    @rt('/inc')
    def increment(n:int):
        return Button(f"Count: {n+1}", value=f"{n+1}", name='n', hx_post='/inc', hx_swap='outerHTML')
    return increment(n-1)

counter()
```

For more detailed examples, review the notebooks in the `nbs/examples/`
directory.

## Core Concepts

### The Bridge

The [`Bridge`](https://civvic.github.io/bridget/bridge.html#bridge)
class ([14_bridge.ipynb](14_bridge.ipynb)) provides the low-level
communication layer between Python and JavaScript, replacing the HTTP
transport layer typically used by HTMX.

### Bridget and get_app()

The [`Bridget`](https://civvic.github.io/bridget/bridget.html#bridget)
class ([32_bridget.ipynb](32_bridget.ipynb)) and
[`get_app()`](https://civvic.github.io/bridget/bridget.html#get_app)
function provide the high-level API for creating interactive components.
This is your main entry point.

### Routing System

Bridget extends FastHTML‚Äôs routing system
([04_route_provider.ipynb](04_route_provider.ipynb)) to work with Python
methods and class instances, enabling stateful components.

### Plugin System

Bridget‚Äôs functionality can be extended through plugins
([16_bridge_plugins.ipynb](16_bridge_plugins.ipynb)), enabling modular
feature development.

### Notebook State

Access live notebook structure and content
([21_nb_state.ipynb](21_nb_state.ipynb)) without saving files, enabling
powerful introspection capabilities.

## Documentation Structure

### Core Components

- [00_common.ipynb](00_common.ipynb) - Common imports and utilities
- [01_helpers.ipynb](01_helpers.ipynb) - Helper functions and utilities
- [10_bridge_widget.ipynb](10_bridge_widget.ipynb) - BridgeWidget
  infrastructure
- [14_bridge.ipynb](14_bridge.ipynb) - Bridge class (low-level
  messaging)
- [32_bridget.ipynb](32_bridget.ipynb) - Bridget class and get_app()
  entry point

### FastHTML Integration

- [03_fasthtml_patching.ipynb](03_fasthtml_patching.ipynb) - FastHTML
  modifications for serverless operation
- [04_route_provider.ipynb](04_route_provider.ipynb) - Extended routing
  system

### Notebook State

- [07_nb.ipynb](07_nb.ipynb) - High-level notebook API
- [15_nb_hooks.ipynb](15_nb_hooks.ipynb) - Notebook event hooks
- [21_nb_state.ipynb](21_nb_state.ipynb) - Notebook state introspection

### Components and Widgets

- [40_details_json.ipynb](40_details_json.ipynb) - Lazy-loading JSON
  viewer
- [50_widget.ipynb](50_widget.ipynb) - Widget development guide

### Examples

- [examples/quickstart.ipynb](examples/quickstart.ipynb) - Quick start
  guide
- [examples/htmx_examples.ipynb](examples/htmx_examples.ipynb) - HTMX
  patterns

## Compatibility and Development

Bridget is developed with [nbdev](https://nbdev.fast.ai/) and requires
Python 3.12+. Core dependencies like `fasthtml` and `anywidget` are
installed automatically. It is regularly tested on macOS with VSCode,
Jupyter Notebook, and Jupyter Lab, and is expected to function in any
environment where `anywidget`/`ipywidgets` is supported.

## Project Status

Bridget is experimental and integrates Jupyter, FastHTML, and HTMX.

Its primary goal, inspired by Donald Knuth‚Äôs concept of Literate
Programming, is to create truly dynamic documents where any content
(including cell outputs) can be directly edited and interacted with in
place.

Current status: - ‚úÖ Core architecture for serverless HTMX and notebook
introspection is functional. - ‚úÖ Key HTMX patterns are supported and
demonstrated in the `nbs/examples/` notebooks. - ‚ö†Ô∏è The API is unstable
and subject to significant change. - ‚õî Not recommended for use in
production environments. - üìù Documentation and more complex examples
are in active development.
